<!--
    This was hands down the hardest project I've done yet. I was overly ambitious and tried doing too much for
    this assignment. I made many assets (pictures and videos), many of which didn't make it in. At first when
    I began this project I had too many ideas. 
    
    First of all I wanted the last section "Running and Displaying  the Patterns" to include a 3x3 grid where 
    when you clicked on one of the instructions, it would draw the instruction on a board for you. I was making 
    good progress on that but eventually I realized that the work that needed to be done for that just wasn't 
    feasible with the amount of time I had.

    Second, when I was half of the way through I realized my general format wasn't too great, so I took a couple
    hours just to make sure the formatting made more since.

    And lastly, my biggest mistake of all that took WAY too much time was the code blocks in the "algorithm"
    section. I looked forever but I couldn't find a way to get javascript to loop through a tag to detect and
    highlight certain words to change their color. Instead I went through by hand and individually color-coded
    each and every word I needed by hand. 

    All said and done I'm happy with how it turned out. I learned a lot and I now know how to better scope a 
    project like this. 
-->
<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./css/main.css">
        <link rel="stylesheet" href="./css/darktheme.css">
        <link rel="stylesheet" href="./css/redtheme.css">
        <link rel="stylesheet" href="./css/bluetheme.css">
    </head>
    <title>Pattern Lock</title>
    <body>
        <div id="content">
            <header>
                <div id="themeToggle">
                    
                    
                    <div id="displayThemes">
                        <div id="lightTheme"></div> 
                        <div id="darkTheme"></div>
                        <div id="blueTheme"></div> 
                        <div id="redTheme"></div>
                    </div>
                    
                    
                    <button onclick="toggleTheme()">Toggle Theme</button>
                </div>
                <div id="titleAndAnimation">
                    <iframe src="https://player.vimeo.com/video/632642400?h=42887d1c12?muted=1?background=1" width="250" height="250" frameborder="0" allow="autoplay; fullscreen; picture-in-picture"></iframe>
                    <div>Cracking the Pattern Lock</div>
                </div>
                <div id="logVisitButton">
                    <button onclick="openForm()">Log Visit</button>
                </div>
            </header>
            <main>
                <!--Section 1-->
                <section id="menuPage" class="page">
                    <h1>A Website Dedicated to Calculating and Displaying Pattern Lock Combinations</h1>
                    <h2>Wait? Did you say displaying?</h2>
                    <p>Heck yeah I did. If you go to <i>Let's Run It</i>, at the top bar and scroll all the way down and click buttons, you can see magic
                    that took me way too freaking long.</p>
                    <h2>Is that 4 themes I see on the top left of the website right under the navigation bar?</h2>
                    <p>Yep! That took me a while too</p>
                    <img src="./img/lock.png">
                    <h2>Everything About this Website</h2>
                    <h3>Rules</h3>
                        <p>
                            This goes over the restrictions pattern locks face compared to other combination locks. If you have never heard of a pattern
                            lock before, this will be a great starting point.
                        </p>
                    <h3>Algorithm. AKA, me showing off my code</h3>
                    <p>
                        Heck yeah! I didn't write all that code to do nothing with it. You can scroll through and see how I came up with the algorithm to 
                        cycle through all the pattern locks.
                    </p>
                    <h3>Let's Run it</h3>
                    <p>
                        This section took me freaking hours. If you see nothing else, at least go see this part. The patterns at the bottom are drawn by
                        stacking multiple transparent images on top of another. I created the images by using the PIL library in Python. 
                    </p>
                </section>
                

                <!--Section 2-->
                <section id="rules" class="page">
                    <div id=rulesTitle>
                        <h1 class="title">Rules</h1>
                    </div>

                    <div id="rule1">
                        <div class="image">
                            <img src="./img/Rule_1.png" width="300">
                        </div>
                        <div class="text">
                            <h2>Rule 1: There Are 9 Unique Values</h2>
                        </div>
                    </div>
                    <div id="rule2">
                        <div class="image">
                            <img src="./img/Rule_2.png" width="300">  
                        </div>
                        <div class="text">
                            <h2>Rule 2: You can't go go to the same spot twice</h2>
                        </div>
                    </div>
                    <div id="rule3">
                        <div class="image">
                            <img src="./img/Rule_3b.png" width="300">
                        </div>
                        <h2>Rule 3: It is illegal to intersect an uninhabited spot</h2>
                    </div>
                    <div id="rule4">
                        <div class="image">
                            <img src="./img/Rule_4b.png" width="300">
                        </div>
                        <h2>Rule 4: One can intersect a point ONLY if it has already been occupied</h2>
                    </div>
                    <div id="rule5">
                        <div class="image">
                            <div><img src="./img/Rule_5a.png" width="300"></div>
                            <div><img src="./img/Rule_5b.png" width="300"></div>
                        </div>
                        <h2>Rule 5: A correct combination needs to be between 4 values and 9 values</h2>
                    </div>
                </section>

                
                <!--Section 3-->
                <section id="algorithm" class="page">
                    <div id="algorithmTitle">
                        <h1>The Algorithm</h1>
                        <h2>aka: How to sort the combinations to get all the possible patterns</h2>
                    </div>
                    <div id="steps">
                        <h2>List of steps needed to get the algorithm</h2>
                        <ol>
                            <li>Creating the bounds for our program</li>
                            <li>Determining if 1 point can go to another point</li>
                            <li>Creating a function that returns all possible points from a given instruction</li>
                            <li>Create a recursive function to cycle through the combinations</li>
                        </ol>
                    </div>
                    <div id="step1">
                        <h2>1) Creating the bounds for our program</h2>
                        <img src="./img/Label_Points.png" width="250">
                        <p>
                            First thing we're going to take each point and give it a value as the combination of the x value and the y value. 
                        </p>
                    </div>
                    <div id="step2">
                        <h2>2) Determining if 1 point can go to another point</h2>
                        <p>
                            This might be the most important step of the entire algorithm. I had to define the extra function, <i>pointInArray()</i>,
                            that just tells if a list of points has a specific point in it. Then the function <i>canGo()</i> just takes a point where 
                            you want to go, and given the instructions you have gone so far, what points can you go from there. 
                        </p>
                        <h3>The only 2 things <i>canGo()</i> is really checking for:</h3>
                        <ol>
                            <li>If the point is already taken</li>
                            <li>If the midpoint is a whole coordinate that's still not taken</li>
                        </ol>
                        <p>If any of these things are true, <i>canGo()</i> is going to return false</p>
                        <div class="coding">
                            <div id="codeNumbering1" class="codeNum">
                                <!--Filled Numbering by javascript-->
                            </div>
                            <div class="codeBlock id="codeSample1">                  
<pre id=codeblock1>
<span style="color:blue">function</span> pointInArray(arr1, arr2) { 
    <span style="color: blue">for</span> (<span style="color: blue">let</span> i = <span style="color: green">0</span>; i < arr2.length; i++){
        <span style="color: blue">if</span> (arr2[i][<span style="color: green">0</span>] == arr1[<span style="color: green">0</span>] && arr2[i][<span style="color: green">1</span>] == arr1[<span style="color: green">1</span>])
        {<span style="color: blue">return true</span>;}
    }
    <span style="color: blue">return false</span>;
}
<span style="color: blue">function</span> canGo(toPoint, instructions) {
    <span style="color: blue">let</span> fromPoint = instructions[instructions.length-<span style="color: green">1</span>];
    <span style="color: grey">//Make sure we haven't already been to this point</span>                         
    <span style="color: blue">if</span> (pointInArray(toPoint, instructions))
        {<span style="color: blue">return false</span>;}
    <span style="color: grey">//Get midpoint</span>
    <span style="color: blue">let</span> tmpX = (fromPoint[<span style="color: green">0</span>] + toPoint[<span style="color: green">0</span>]) / <span style="color: green">2</span>;
    <span style="color: blue">let</span> tmpY = (fromPoint[<span style="color: green">1</span>] + toPoint[<span style="color: green">1</span>]) / <span style="color: green">2</span>;
    <span style="color: grey">//Make sure the midpoint values are whole numbers</span>
    <span style="color: blue">if</span> (tmpX === Math.floor(tmpX) && tmpY === Math.floor(tmpY)){
        <span style="color: grey">//If the midpoint is not taken</span>
        <span style="color:blue">if</span> (!pointInArray([tmpX, tmpY], instructions))
        {<span style="color: blue">return false</span>;}
    }
    <span style="color: blue">return true</span>;
}
</pre>
                            </div>
                        </div>
                    </div>
                    <div id="step3">
                        <h2>3) Creating a function that returns all possible points from a given instruction</h2>
                        <p>
                            This is just a function that uses the canGo() function we defined above to loop through 
                            all the points and return a list of available points we are legally able to go to.
                        </p>
                        <div class="coding">
                            <div id="codeNumbering2" class="codeNum">
                                <!--Filled By javascript-->
                            </div>
                            <div class="codeBlock" id="codeSample2">
<pre id=codeBlock2>
<span style="color: blue">function</span> getPoints(instructions) {
    <span style="color: blue">let</span> tmpArray = [];
    <span style="color: blue">for</span> (<span style="color: blue">let</span> x = <span style="color: green">0</span>; x < <span style="color: green">3</span>; x++){
        <span style="color: blue">for</span> (<span style="color: blue">let</span> y = <span style="color: green">0</span>; y < <span style="color: green">3</span>; y++){
            <span style="color: blue">if</span> (canGo([x, y], instructions)){
                tmpArray.push([x, y]);
            }
        }
    }
    <span style="color: blue">return</span> tmpArray;
}
</pre>
                            </div>
                        </div>
                    </div>
                    <div id="step4">
                        <h2>4) Create a recursive function to cycle through the combinations</h2>
                        <p>
                            The reason we're using recursion instead of an iterative process is because the maximum depth can only get to at most 9 calls.
                            With this function we will use the <i>bruteforce()</i> function to get us started but most the meat is done in the <i>bruteforce_helper()</i>
                            function. Here we're going to be defining a global variable <i>totalCombinations</i>, which is a list that will hold all the instructions 
                            that used 4 or more values.
                        </p>
                    <div class="coding">
                        <div id="codeNumbering3" class="codeNum">
                            <!--Filled By javascript-->
                        </div>
                        <div class="codeBlock" id="codeSample3">
<pre id="codeBlock3">
<span style="color: blue">let</span> totalCombinations = [];
<span style="color: blue">function</span> bruteforce_helper(instructions){
    <span style="color: blue">let</span> cyclePoints = getPoints(instructions);
    <span style="color: blue">if</span> (instructions.length > <span style="color: green"> 3</span>) {
        totalCombinations.push(instructions.slice());
    }
    <span style="color: blue">for</span> (<span style="color: blue">let</span> i = <span style="color: green">0</span>; i < cyclePoints.length; i++) {
        instructions.push(cyclePoints[i]);
        bruteforce_helper(instructions);
        instructions.pop();
    }
    <span style="color: grey">//Base case, returns if length is 9 or done cycling through cyclePoints</span>
    return
}
<span style="color: blue">function</span> bruteforce() {
    <span style="color: blue">for</span> (<span style="color: blue">let</span> x = <span style="color: green">0</span>; x < <span style="color: green">3</span>; x++){
        <span style="color: blue">for</span> (<span style="color: blue">let</span> y = <span style="color: green">0</span>; y < <span style="color: green">3</span>; y++){
            bruteforce_helper([[x, y]])
        }
    }
}
bruteforce()
</pre>
                        </div>
                    </div>
                    </div>
                </section>



                <!--Section 4--> <!--"-->

                <section id="display" class="page">
                    <h1>Running and Displaying the Patterns</h1>
                    <div id="patternBoard">

                        <img src="./img/Label_Points.png" width="350">
                        <h2>A complete list of all the instructions. Click one to see the ordered list of pattern combinations</h2>
                        <div id="buttonList">
                            <!--Filled by javascript-->
                        </div>
                        <h2>More buttons will appear below this. Yes, the buttons above this created more buttons below it</h2>
                        <div id="patternList">
                            <!--Filled by javascript-->
                        </div>
                        <div id="displayPatterns" style="position:relative">
                            <!--Filled by javascript-->
                            <div id="displayBackground"></div>
                        </div>

                    </div>
                </section>
                <section id="logVisit" class="page">
                    <h1>Visitor Form</h1>
                    <form id="myform">
                        <div>
                            <label for="first-name">First name:</label>
                            <input type="text" pattern="string" id="first-name" name="first-name" placeholder="First Name"><br>
                            <div class="errorMsg" id="errorMsgfname">Error! Names can't hold any numbers</div>
                        </div>
                        <br>

                        <div>
                            <label for="last-name">Last name:</label>
                            <input type="text" pattern="string" id="last-name" name="last-name" placeholder="Last Name"><br>
                            <div class="errorMsg" id="errorMsglname">Error! Names can't hold any numbers</div>
                        </div>
                        <br>

                        <div>
                            <label for="address">Address:</label>
                            <input type="text" id="address" name="address" placeholder="Address"><br>
                            <div class="errorMsg" id="errorMsgaddress">You must enter a valid address</div>
                        </div>
                        <br>

                        <div>
                            <label for="city">City:</label>
                            <input type="text" id="city" name="city" placeholder="City"><br>
                            <div class="errorMsg" id="errorMsgcity">You must enter a valid city</div>
                        </div>
                        <br>

                        <div>
                            <label for="state">State:</label>
                            <input type="text" minlength="2" maxlength="2" id="state" name="state" placeholder="State"><br>
                            <div class="errorMsg" id="errorMsgstate">You must enter a valid state with two letters. example: UT</div>
                        </div>
                        <br>

                        <div>
                            <label for="zip-code">Zip Code:</label>
                            <input type="text" minlength="5" maxlength="5" id="zip-code" name="zip-code" placeholder="Zip Code"><br>
                            <div class="errorMsg" id="errorMsgzip">You must enter a valid zip code</div>
                        </div>
                        <br>

                        <div>
                            <label for="cell-phone">Cell Phone Number:</label>
                            <input type="text" minlength="10" maxlength="10" id="cell-phone" name="cell-phone" placeholder="(XXX) XXX-XXXX"><br>
                            <div class="errorMsg" id="errorMsgnumber">You must enter a valid phone number</div>
                        </div>
                        <br>

                        <div>
                            <label for="email">Email Address:</label>
                            <input type="email" id="email" name="email" placeholder="example@example.com"><br>
                            <div class="errorMsg" id="errorMsgemail">You must enter a valid email address</div>
                        </div>
                        <br>

                        <h2>How did you find my page?</h2>

                                <input type="checkbox" name="find-page" value="duckduckgo" id="duckduckgo">
                                <label for="duckduckgo">DuckDuckGo Search</label>
                                <br><br>

                                <input type="checkbox" name="find-page" value="friend" id="friend">
                                <label for="friend">A Friend</label>
                                <br><br>
                            
                                <input type="checkbox" name="find-page" value="newspaper" id="newspaper">
                                <label for="newspaper">The News Paper</label>
                                <div class="errorMsg">You must select at least one</div>
                                <br><br>

                        <input id="submitBtn" type='submit' onclick="openThankYou()">
                    </form>
                </section>
                <section id="thankYouPage" class="page">
                    <h1>Thank You!</h1>
                </section>
            </main>
            <nav id="menu">
                <div id=menuOptions>
                    <div class="nav"><button onclick="openMenu()">Menu</button></div>
                    <div class="nav"><button onclick="openRules()">Rules</button></div>
                    <div class="nav"><button onclick="openAlgorithm()">Algorithm</button></div>
                    <div class="nav"><button onclick="openRunIt()">Let's Run It</button></div>
                </div>
                <div id="pill"></div>
            </nav>
            <footer>Pattern Lock</footer>
        </div>            
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> <!--Add Jquery-->       
    <script type="text/javascript" src="./js/main.js"></script>
    <script type="text/javascript" src="./js/validation.js"></script>
    <script>
        $(document).ready(function() {
            initValidation("#myform")
        })
    </script>

</html>